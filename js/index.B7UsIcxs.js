import{p as D,v as $,i as j,a as G,d as U,c as K,r as q,b as J,n as A,f as E,e as N,g as Q,s as Z,m as x,h as H,j as ee}from"./index.BrXU8bGm.js";import{w as te,u as g,d as ne,r as S,c as se,a as re,o as oe,b as le,e as z,f as k,g as T,h as p,n as y,F as ie,i as ce,j as B,k as ae,l as fe,t as ue}from"./index.XUzzkYlh.js";const de=50,O=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),he=()=>({time:0,x:O(),y:O()}),ge={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function C(e,t,s,n){const r=s[t],{length:o,position:l}=ge[t],i=r.current,a=s.time;r.current=e[`scroll${l}`],r.scrollLength=e[`scroll${o}`]-e[`client${o}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=D(0,r.scrollLength,r.current);const c=n-a;r.velocity=c>de?0:$(r.current-i,c)}function pe(e,t,s){C(e,"x",t,s),C(e,"y",t,s),t.time=s}function ve(e,t){const s={x:0,y:0};let n=e;for(;n&&n!==t;)if(j(n))s.x+=n.offsetLeft,s.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const r=n.getBoundingClientRect();n=n.parentElement;const o=n.getBoundingClientRect();s.x+=r.left-o.left,s.y+=r.top-o.top}else if(n instanceof SVGGraphicsElement){const{x:r,y:o}=n.getBBox();s.x+=r,s.y+=o;let l=null,i=n.parentNode;for(;!l;)i.tagName==="svg"&&(l=i),i=n.parentNode;n=l}else break;return s}const _={start:0,center:.5,end:1};function P(e,t,s=0){let n=0;if(e in _&&(e=_[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?n=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?n=r/100*document.documentElement.clientWidth:e.endsWith("vh")?n=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(n=t*e),s+n}const me=[0,0];function we(e,t,s,n){let r=Array.isArray(e)?e:me,o=0,l=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,_[e]?e:"0"]),o=P(r[0],s,n),l=P(r[1],t),o-l}const xe={All:[[0,0],[1,1]]},ye={x:0,y:0};function Ee(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function be(e,t,s){const{offset:n=xe.All}=s,{target:r=e,axis:o="y"}=s,l=o==="y"?"height":"width",i=r!==e?ve(r,e):ye,a=r===e?{width:e.scrollWidth,height:e.scrollHeight}:Ee(r),c={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let f=!t[o].interpolate;const u=n.length;for(let h=0;h<u;h++){const d=we(n[h],c[l],a[l],i[o]);!f&&d!==t[o].interpolatorOffsets[h]&&(f=!0),t[o].offset[h]=d}f&&(t[o].interpolate=G(t[o].offset,U(n),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=K(0,1,t[o].interpolate(t[o].current))}function Le(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)s.x.targetOffset+=n.offsetLeft,s.y.targetOffset+=n.offsetTop,n=n.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function Te(e,t,s,n={}){return{measure:r=>{Le(e,n.target,s),pe(e,s,r),(n.offset||n.target)&&be(e,s,n)},notify:()=>t(s)}}const b=new WeakMap;let v;const F=(e,t,s)=>(n,r)=>r&&r[0]?r[0][e+"Size"]:J(n)&&"getBBox"in n?n.getBBox()[t]:n[s],We=F("inline","width","offsetWidth"),_e=F("block","height","offsetHeight");function He({target:e,borderBoxSize:t}){var s;(s=b.get(e))==null||s.forEach(n=>{n(e,{get width(){return We(e,t)},get height(){return _e(e,t)}})})}function Se(e){e.forEach(He)}function ze(){typeof ResizeObserver>"u"||(v=new ResizeObserver(Se))}function ke(e,t){v||ze();const s=q(e);return s.forEach(n=>{let r=b.get(n);r||(r=new Set,b.set(n,r)),r.add(t),v?.observe(n)}),()=>{s.forEach(n=>{const r=b.get(n);r?.delete(t),r?.size||v?.unobserve(n)})}}const L=new Set;let m;function Be(){m=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};L.forEach(t=>t(e))},window.addEventListener("resize",m)}function Oe(e){return L.add(e),m||Be(),()=>{L.delete(e),!L.size&&typeof m=="function"&&(window.removeEventListener("resize",m),m=void 0)}}function Ce(e,t){return typeof e=="function"?Oe(e):ke(e,t)}const w=new WeakMap,R=new WeakMap,W=new WeakMap,M=e=>e===document.scrollingElement?window:e;function V(e,{container:t=document.scrollingElement,...s}={}){if(!t)return A;let n=W.get(t);n||(n=new Set,W.set(t,n));const r=he(),o=Te(t,e,r,s);if(n.add(o),!w.has(t)){const i=()=>{for(const u of n)u.measure(Q.timestamp);E.preUpdate(a)},a=()=>{for(const u of n)u.notify()},c=()=>E.read(i);w.set(t,c);const f=M(t);window.addEventListener("resize",c,{passive:!0}),t!==document.documentElement&&R.set(t,Ce(t,c)),f.addEventListener("scroll",c,{passive:!0}),c()}const l=w.get(t);return E.read(l,!1,!0),()=>{var i;N(l);const a=W.get(t);if(!a||(a.delete(o),a.size))return;const c=w.get(t);w.delete(t),c&&(M(t).removeEventListener("scroll",c),(i=R.get(t))==null||i(),window.removeEventListener("resize",c))}}const I=new Map;function Pe(e){const t={value:0},s=V(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:s}}function Y({source:e,container:t,...s}){const{axis:n}=s;e&&(t=e);const r=I.get(t)??new Map;I.set(t,r);const o=s.target??"self",l=r.get(o)??{},i=n+(s.offset??[]).join(",");return l[i]||(l[i]=!s.target&&Z()?new ScrollTimeline({source:t,axis:n}):Pe({container:t,...s})),l[i]}function X(e,t){let s;const n=()=>{const{currentTime:r}=t,l=(r===null?0:r.value)/100;s!==l&&e(l),s=l};return E.preUpdate(n,!0),()=>N(n)}function Re(e,t){const s=Y(t);return e.attachTimeline({timeline:t.target?void 0:s,observe:n=>(n.pause(),X(r=>{n.time=n.duration*r},s))})}function Me(e){return e.length===2}function Ie(e,t){return Me(e)?V(s=>{e(s[t.axis].progress,s)},t):X(e,Y(t))}function Ae(e,{axis:t="y",container:s=document.scrollingElement,...n}={}){if(!s)return A;const r={axis:t,container:s,...n};return typeof e=="function"?Ie(e,r):Re(e,r)}const Ne=typeof window>"u";function Fe(){return{scrollX:x(0),scrollY:x(0),scrollXProgress:x(0),scrollYProgress:x(0)}}function Ve(e={}){const t=Fe();return te(s=>{if(Ne)return;const n=Ae((r,{x:o,y:l})=>{t.scrollX.set(o.current),t.scrollXProgress.set(o.progress),t.scrollY.set(l.current),t.scrollYProgress.set(l.progress)},{offset:g(e.offset),axis:g(e.axis),container:H(e.container),target:H(e.target)});s(()=>{n()})},{flush:"post"}),t}const Ye={class:"h-full w-full"},Xe={class:"grid grid-cols-[1fr_38px_38px] gap-8 font-semibold h-full w-full items-center"},De=20,Ge=ne({__name:"index",setup(e){const t=S(null),s=S(!1),{scrollYProgress:n}=Ve(),r={scaleX:n,position:"fixed",top:"-1px",left:0,right:0,height:"4px",originX:0,backgroundColor:"#ff0088"},o=[{label:"主页",path:"/dashboard"},{label:"关于",path:"/about"}],l=re(),i=se(()=>l.path),a=()=>{const c=t.value?.scrollTop??0,f=window.scrollY||window.pageYOffset||0,u=Math.max(c,f);s.value=u>De};return oe(()=>{t.value&&t.value.addEventListener("scroll",a),window.addEventListener("scroll",a),a()}),le(()=>{t.value&&t.value.removeEventListener("scroll",a),window.removeEventListener("scroll",a)}),(c,f)=>{const u=B("router-link"),h=B("router-view");return k(),z("div",Ye,[T(g(ee).div,{id:"scroll-indicator",style:r}),p("div",{class:y(["grid place-items-center bg-transparent fixed z-10 w-full left-0 transition-all duration-500",g(s)?"top-0 translate-y-0 py-2":"top-[2em]"])},[p("div",{class:y(["flex items-center h-16 px-6  bg-[hsla(0,0%,100%,0.05)] backdrop-filter backdrop-blur-[10px] border border-[rgba(255,255,255,0.6)] w-[90%] md:w-[60%] transition-all duration-500 relative",g(s)?"rounded-[16px]":"rounded-[50px]"])},[p("nav",Xe,[f[0]||(f[0]=p("div",null,null,-1)),(k(),z(ie,null,ce(o,d=>T(u,{key:d.path,to:d.path,class:y(["flex items-center text-[18px] transition-all duration-300 relative group",g(i)===d.path?"text-[var(--color-1)]":"text-white hover:text-[var(--color-1)]"])},{default:ae(()=>[fe(ue(d.label)+" ",1),p("span",{class:y(["absolute bottom-[-4px] left-0 h-1 bg-gradient-to-r from-[var(--color-1)] to-[var(--color-2)] transition-all duration-300",g(i)===d.path?"w-full":"w-0 group-hover:w-full"])},null,2)]),_:2},1032,["to","class"])),64))])],2)],2),p("div",{ref_key:"contentRef",ref:t,class:"h-full w-full overflow-y-auto"},[T(h)],512)])}}});export{Ge as default};
